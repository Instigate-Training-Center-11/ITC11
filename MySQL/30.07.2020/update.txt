DROP TRIGGER IF EXISTS beforeUpdate;

SELECT * FROM orders;

DELIMITER //

CREATE TRIGGER beforeUpdate BEFORE UPDATE ON `orders` FOR EACH ROW BEGINIF OLD.o_completed = 0 THEN SET NEW.o_completed = 1; SET NEW.o_delivery_time = NOW(); END IF; END//

DELIMITER ;

DELIMITER ;

UPDATE orders SET c_id = 1 WHERE id = 3;
